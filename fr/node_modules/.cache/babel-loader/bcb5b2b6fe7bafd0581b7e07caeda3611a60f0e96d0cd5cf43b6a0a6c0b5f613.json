{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/fr/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import axiosClient from\"./api/axiosClient\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function StaffManager(){const[staff,setStaff]=useState([]);const[form,setForm]=useState({username:\"\",password:\"\",full_name:\"\",role:\"chef\"});const[editing,setEditing]=useState(null);const load=()=>{axiosClient.get(\"/api/staff\").then(res=>setStaff(res.data));};useEffect(load,[]);const create=async()=>{await axiosClient.post(\"/api/staff\",form);setForm({username:\"\",password:\"\",full_name:\"\",role:\"chef\"});load();};const update=async()=>{await axiosClient.put(\"/api/staff/\".concat(editing.id),form);setEditing(null);setForm({username:\"\",password:\"\",full_name:\"\",role:\"chef\"});load();};const remove=async id=>{await axiosClient.delete(\"/api/staff/\".concat(id));load();};const edit=item=>{setEditing(item);setForm({username:item.username,password:\"\",full_name:item.full_name,role:item.role});};return/*#__PURE__*/_jsxs(\"div\",{className:\"staff-manager\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Qu\\u1EA3n l\\xFD Nh\\xE2n vi\\xEAn\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:editing?\"Chỉnh sửa nhân viên\":\"Thêm nhân viên mới\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Username\",value:form.username,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{username:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password\",type:\"password\",value:form.password,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{password:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"H\\u1ECD t\\xEAn:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"H\\u1ECD t\\xEAn\",value:form.full_name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{full_name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Vai tr\\xF2:\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.role,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{role:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"chef\",children:\"Chef\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cashier\",children:\"Cashier\"}),/*#__PURE__*/_jsx(\"option\",{value:\"manager\",children:\"Manager\"})]})]}),editing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:update,children:\"C\\u1EADp nh\\u1EADt\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setEditing(null),children:\"H\\u1EE7y\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:create,children:\"Th\\xEAm nh\\xE2n vi\\xEAn\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"staff-list\",children:staff.map(s=>/*#__PURE__*/_jsxs(\"div\",{className:\"staff-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:s.full_name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),\" \",s.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Vai tr\\xF2:\"}),\" \",s.role]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-edit\",onClick:()=>edit(s),children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-delete\",onClick:()=>remove(s.id),children:\"X\\xF3a\"})]})]},s.id))})]});}export default StaffManager;","map":{"version":3,"names":["React","useEffect","useState","axiosClient","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StaffManager","staff","setStaff","form","setForm","username","password","full_name","role","editing","setEditing","load","get","then","res","data","create","post","update","put","concat","id","remove","delete","edit","item","className","children","placeholder","value","onChange","e","_objectSpread","target","type","onClick","map","s"],"sources":["C:/Users/ADMIN/Desktop/fr/src/StaffManager.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axiosClient from \"./api/axiosClient\";\r\n\r\nfunction StaffManager() {\r\n  const [staff, setStaff] = useState([]);\r\n  const [form, setForm] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    full_name: \"\",\r\n    role: \"chef\",\r\n  });\r\n  const [editing, setEditing] = useState(null);\r\n\r\n  const load = () => {\r\n    axiosClient.get(\"/api/staff\").then((res) => setStaff(res.data));\r\n  };\r\n\r\n  useEffect(load, []);\r\n\r\n  const create = async () => {\r\n    await axiosClient.post(\"/api/staff\", form);\r\n    setForm({ username: \"\", password: \"\", full_name: \"\", role: \"chef\" });\r\n    load();\r\n  };\r\n\r\n  const update = async () => {\r\n    await axiosClient.put(`/api/staff/${editing.id}`, form);\r\n    setEditing(null);\r\n    setForm({ username: \"\", password: \"\", full_name: \"\", role: \"chef\" });\r\n    load();\r\n  };\r\n\r\n  const remove = async (id) => {\r\n    await axiosClient.delete(`/api/staff/${id}`);\r\n    load();\r\n  };\r\n\r\n  const edit = (item) => {\r\n    setEditing(item);\r\n    setForm({ username: item.username, password: \"\", full_name: item.full_name, role: item.role });\r\n  };\r\n\r\n  return (\r\n    <div className=\"staff-manager\">\r\n      <h1>Quản lý Nhân viên</h1>\r\n      <div className=\"form\">\r\n        <h2>{editing ? \"Chỉnh sửa nhân viên\" : \"Thêm nhân viên mới\"}</h2>\r\n        <div className=\"form-group\">\r\n          <label>Username:</label>\r\n          <input placeholder=\"Username\" value={form.username}\r\n            onChange={(e) => setForm({ ...form, username: e.target.value })} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Password:</label>\r\n          <input placeholder=\"Password\" type=\"password\" value={form.password}\r\n            onChange={(e) => setForm({ ...form, password: e.target.value })} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Họ tên:</label>\r\n          <input placeholder=\"Họ tên\" value={form.full_name}\r\n            onChange={(e) => setForm({ ...form, full_name: e.target.value })} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Vai trò:</label>\r\n          <select value={form.role} onChange={(e) => setForm({ ...form, role: e.target.value })}>\r\n            <option value=\"chef\">Chef</option>\r\n            <option value=\"cashier\">Cashier</option>\r\n            <option value=\"manager\">Manager</option>\r\n          </select>\r\n        </div>\r\n        {editing ? (\r\n          <>\r\n            <button onClick={update}>Cập nhật</button>\r\n            <button className=\"btn-secondary\" onClick={() => setEditing(null)}>Hủy</button>\r\n          </>\r\n        ) : (\r\n          <button onClick={create}>Thêm nhân viên</button>\r\n        )}\r\n      </div>\r\n      <div className=\"staff-list\">\r\n        {staff.map((s) => (\r\n          <div key={s.id} className=\"staff-item\">\r\n            <h3>{s.full_name}</h3>\r\n            <p><strong>Username:</strong> {s.username}</p>\r\n            <p><strong>Vai trò:</strong> {s.role}</p>\r\n            <div className=\"item-actions\">\r\n              <button className=\"btn-edit\" onClick={() => edit(s)}>Sửa</button>\r\n              <button className=\"btn-delete\" onClick={() => remove(s.id)}>Xóa</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StaffManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}