{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/fr/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import axiosClient from\"./api/axiosClient\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function BookingManager(){const[bookings,setBookings]=useState([]);const[form,setForm]=useState({customer_name:\"\",phone:\"\",date:\"\",time:\"\",num_guests:\"\"});const[editing,setEditing]=useState(null);const load=()=>{axiosClient.get(\"/api/bookings\").then(res=>setBookings(res.data));};useEffect(load,[]);const create=async()=>{await axiosClient.post(\"/api/bookings\",form);setForm({customer_name:\"\",phone:\"\",date:\"\",time:\"\",num_guests:\"\"});load();};const update=async()=>{await axiosClient.put(\"/api/bookings/\".concat(editing.id),form);setEditing(null);setForm({customer_name:\"\",phone:\"\",date:\"\",time:\"\",num_guests:\"\"});load();};const remove=async id=>{await axiosClient.delete(\"/api/bookings/\".concat(id));load();};const edit=item=>{setEditing(item);setForm({customer_name:item.customer_name,phone:item.phone,date:item.date,time:item.time,num_guests:item.num_guests});};return/*#__PURE__*/_jsxs(\"div\",{className:\"booking-manager\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Qu\\u1EA3n l\\xFD \\u0110\\u1EB7t b\\xE0n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:editing?\"Chỉnh sửa booking\":\"Thêm booking mới\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"T\\xEAn kh\\xE1ch:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"T\\xEAn kh\\xE1ch\",value:form.customer_name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{customer_name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",value:form.phone,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{phone:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ng\\xE0y:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{date:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gi\\u1EDD:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:form.time,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{time:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"S\\u1ED1 kh\\xE1ch:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"S\\u1ED1 kh\\xE1ch\",value:form.num_guests,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{num_guests:e.target.value}))})]}),editing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:update,children:\"C\\u1EADp nh\\u1EADt\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>setEditing(null),children:\"H\\u1EE7y\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:create,children:\"Th\\xEAm booking\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"booking-list\",children:bookings.map(b=>/*#__PURE__*/_jsxs(\"div\",{className:\"booking-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:b.customer_name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"S\\u0110T:\"}),\" \",b.phone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\xE0y:\"}),\" \",b.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gi\\u1EDD:\"}),\" \",b.time]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"S\\u1ED1 kh\\xE1ch:\"}),\" \",b.num_guests]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-edit\",onClick:()=>edit(b),children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-delete\",onClick:()=>remove(b.id),children:\"X\\xF3a\"})]})]},b.id))})]});}export default BookingManager;","map":{"version":3,"names":["React","useEffect","useState","axiosClient","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookingManager","bookings","setBookings","form","setForm","customer_name","phone","date","time","num_guests","editing","setEditing","load","get","then","res","data","create","post","update","put","concat","id","remove","delete","edit","item","className","children","placeholder","value","onChange","e","_objectSpread","target","type","onClick","map","b"],"sources":["C:/Users/ADMIN/Desktop/fr/src/BookingManager.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axiosClient from \"./api/axiosClient\";\r\n\r\nfunction BookingManager() {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [form, setForm] = useState({\r\n    customer_name: \"\",\r\n    phone: \"\",\r\n    date: \"\",\r\n    time: \"\",\r\n    num_guests: \"\",\r\n  });\r\n  const [editing, setEditing] = useState(null);\r\n\r\n  const load = () => {\r\n    axiosClient.get(\"/api/bookings\").then((res) => setBookings(res.data));\r\n  };\r\n\r\n  useEffect(load, []);\r\n\r\n  const create = async () => {\r\n    await axiosClient.post(\"/api/bookings\", form);\r\n    setForm({ customer_name: \"\", phone: \"\", date: \"\", time: \"\", num_guests: \"\" });\r\n    load();\r\n  };\r\n\r\n  const update = async () => {\r\n    await axiosClient.put(`/api/bookings/${editing.id}`, form);\r\n    setEditing(null);\r\n    setForm({ customer_name: \"\", phone: \"\", date: \"\", time: \"\", num_guests: \"\" });\r\n    load();\r\n  };\r\n\r\n  const remove = async (id) => {\r\n    await axiosClient.delete(`/api/bookings/${id}`);\r\n    load();\r\n  };\r\n\r\n  const edit = (item) => {\r\n    setEditing(item);\r\n    setForm({\r\n      customer_name: item.customer_name,\r\n      phone: item.phone,\r\n      date: item.date,\r\n      time: item.time,\r\n      num_guests: item.num_guests\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"booking-manager\">\r\n      <h1>Quản lý Đặt bàn</h1>\r\n      <div className=\"form\">\r\n        <h2>{editing ? \"Chỉnh sửa booking\" : \"Thêm booking mới\"}</h2>\r\n        <div className=\"form-group\">\r\n          <label>Tên khách:</label>\r\n          <input placeholder=\"Tên khách\" value={form.customer_name}\r\n            onChange={(e) => setForm({ ...form, customer_name: e.target.value })} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Số điện thoại:</label>\r\n          <input placeholder=\"Số điện thoại\" value={form.phone}\r\n            onChange={(e) => setForm({ ...form, phone: e.target.value })} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Ngày:</label>\r\n          <input type=\"date\" value={form.date}\r\n            onChange={(e) => setForm({ ...form, date: e.target.value })} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Giờ:</label>\r\n          <input type=\"time\" value={form.time}\r\n            onChange={(e) => setForm({ ...form, time: e.target.value })} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Số khách:</label>\r\n          <input placeholder=\"Số khách\" value={form.num_guests}\r\n            onChange={(e) => setForm({ ...form, num_guests: e.target.value })} />\r\n        </div>\r\n        {editing ? (\r\n          <>\r\n            <button onClick={update}>Cập nhật</button>\r\n            <button className=\"btn-secondary\" onClick={() => setEditing(null)}>Hủy</button>\r\n          </>\r\n        ) : (\r\n          <button onClick={create}>Thêm booking</button>\r\n        )}\r\n      </div>\r\n      <div className=\"booking-list\">\r\n        {bookings.map((b) => (\r\n          <div key={b.id} className=\"booking-item\">\r\n            <h3>{b.customer_name}</h3>\r\n            <p><strong>SĐT:</strong> {b.phone}</p>\r\n            <p><strong>Ngày:</strong> {b.date}</p>\r\n            <p><strong>Giờ:</strong> {b.time}</p>\r\n            <p><strong>Số khách:</strong> {b.num_guests}</p>\r\n            <div className=\"item-actions\">\r\n              <button className=\"btn-edit\" onClick={() => edit(b)}>Sửa</button>\r\n              <button className=\"btn-delete\" onClick={() => remove(b.id)}>Xóa</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookingManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}